"use strict";(self.webpackChunkdocusaurus_classic_typescript=self.webpackChunkdocusaurus_classic_typescript||[]).push([[3004],{3389:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>d,frontMatter:()=>r,metadata:()=>a,toc:()=>l});const a=JSON.parse('{"id":"use-cases/case_login","title":"Authenticating And Monitoring","description":"This scenario covers authenticating, setting up monitoring and requesting the current state of the trunk, a user and a queue.","source":"@site/docs/use-cases/case_login.md","sourceDirName":"use-cases","slug":"/use-cases/case_login","permalink":"/api-documentation/docs/use-cases/case_login","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":0,"frontMatter":{"title":"Authenticating And Monitoring","sidebar_position":0},"sidebar":"tutorialSidebar","previous":{"title":"Use cases","permalink":"/api-documentation/docs/use-cases/"},"next":{"title":"Making A Call","permalink":"/api-documentation/docs/use-cases/case_makecall"}}');var s=t(4848),i=t(8453);const r={title:"Authenticating And Monitoring",sidebar_position:0},o=void 0,c={},l=[{value:"Authenticating",id:"authenticating",level:2},{value:"Monitoring",id:"monitoring",level:2},{value:"Trunk - Requesting state",id:"trunk---requesting-state",level:2},{value:"Users - Requesting states",id:"users---requesting-states",level:2},{value:"Forwarding",id:"forwarding",level:3},{value:"Do-Not-Disturb",id:"do-not-disturb",level:3},{value:"CallProfile",id:"callprofile",level:3},{value:"Queues - Requesting states",id:"queues---requesting-states",level:2},{value:"Queue Data",id:"queue-data",level:3},{value:"Queue Members",id:"queue-members",level:3}];function u(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"This scenario covers authenticating, setting up monitoring and requesting the current state of the trunk, a user and a queue."}),"\n",(0,s.jsx)(n.p,{children:"User with device 200 on trunk 12345678, calls an external device on number 22334455."}),"\n",(0,s.jsx)(n.h2,{id:"authenticating",children:"Authenticating"}),"\n",(0,s.jsxs)(n.p,{children:["User '",(0,s.jsx)(n.a,{href:"mailto:user@domain.dk",children:"user@domain.dk"}),"' authenticates on trunk domain '12345678.pbx.one-connect.dk' using a ",(0,s.jsx)(n.a,{href:"/api-documentation/docs/csta-api/authentication/startApplicationSession",children:"StartApplicationSession"})," request:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",metastring:'title="StartApplicationSession"',children:'<?xml version="1.0" encoding="utf-16"?>\n<StartApplicationSession>\n    <applicationInfo>\n        <applicationSpecificInfo>\n            <vendorData:userID>user@domain.dk</vendorData:userID>\n            <vendorData:password>*******<vendorData:password>\n            <vendorData:pbxDomain>12345678.pbx.one-connect.dk</vendorData:pbxDomain>\n        </applicationSpecificInfo>\n    </applicationInfo>\n    <requestedSessionDuration>120</requestedSessionDuration>\n</StartApplicationSession>\n'})}),"\n",(0,s.jsxs)(n.p,{children:["A ",(0,s.jsx)(n.a,{href:"/api-documentation/docs/csta-api/authentication/startApplicationSession#startapplicationsessionposresponse",children:"StartApplicationSessionPosResponse"})," indicates that the login and authentication was successful."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",metastring:'title="StartApplicationSessionPosResponse"',children:'<StartApplicationSessionPosResponse xmlns="http://www.ecma.ch/standards/ecma-323/csta/ed6">\n  <sessionID>b8950dce-3f63-48df-a109-835e16062ab7</sessionID>\n  <actualProtocolVersion>http://www.ecma.ch/standards/ecma-323/csta/ed6</actualProtocolVersion>\n  <actualSessionDuration>120</actualSessionDuration>\n</StartApplicationSessionPosResponse>\n'})}),"\n",(0,s.jsx)(n.h2,{id:"monitoring",children:"Monitoring"}),"\n",(0,s.jsx)(n.p,{children:"Requests to monitor all users and queues on a given trunk."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",metastring:'title="MonitorTrunk"',children:"<MonitorTrunk>\n  <monitorObject>\n    <deviceObject>1</deviceObject>\n  </monitorObject>\n  <privateData>\n    <requestID>100-null</requestID>\n  </privateData>\n</MonitorTrunk>\n"})}),"\n",(0,s.jsxs)(n.p,{children:["A ",(0,s.jsx)(n.a,{href:"/api-documentation/docs/csta-api/monitoring/monitorTrunk#monitorstartresponse",children:"MonitorStartResponse"})," indicates how many users and queues monitoring has been started for."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",metastring:'title="MonitorStartResponse for trunk"',children:'<MonitorStartResponse xmlns="http://www.ecma.ch/standards/ecma-323/csta/ed6">\n  <monitorCrossRefID>12345678</monitorCrossRefID>\n  <privateData>\n    <monitoredConnection>\n      <deviceID>12345678</deviceID>\n    </monitoredConnection>\n    <requestID>100-null</requestID>\n    <monitorCount>2</monitorCount>\n  </privateData>\n</MonitorStartResponse>\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",metastring:'title="MonitorStartedEvent for a user"',children:'<MonitorStartedEvent xmlns="http://www.ecma.ch/standards/ecma-323/csta/ed6">\n  <monitorCrossRefID>t-12345678</monitorCrossRefID>\n  <privateData>\n    <eventOrderIncrement>0</eventOrderIncrement>\n    <connectionId>d89d804d-01e7-465b-a6c9-cff238cd3cf8</connectionId>\n  </privateData>\n  <monitoredConnection>\n    <deviceID>200</deviceID>\n    <monitorCrossRefID>u-12345678-200</monitorCrossRefID>\n  </monitoredConnection>\n  <deviceRelationList />\n  <numberType>sip</numberType>\n</MonitorStartedEvent>\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",metastring:'title="MonitorStartedEvent for a queue"',children:'<MonitorStartedEvent xmlns="http://www.ecma.ch/standards/ecma-323/csta/ed6">\n  <monitorCrossRefID>t-12345678</monitorCrossRefID>\n  <privateData>\n    <eventOrderIncrement>0</eventOrderIncrement>\n    <connectionId>d89d804d-01e7-465b-a6c9-cff238cd3cf8</connectionId>\n  </privateData>\n  <monitoredConnection>\n    <deviceID>400</deviceID>\n    <monitorCrossRefID>q-12345678-400</monitorCrossRefID>\n  </monitoredConnection>\n  <deviceRelationList />\n  <numberType>queue</numberType>\n</MonitorStartedEvent>\n'})}),"\n",(0,s.jsx)(n.h2,{id:"trunk---requesting-state",children:"Trunk - Requesting state"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",metastring:'title="SnapShotDevice on trunk"',children:"<SnapShotDevice>\n  <snapshotObject>t-12345678</snapshotObject>\n  <privateData>\n    <requestID>101-null</requestID>\n  </privateData>\n</SnapShotDevice>\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",metastring:'title="SnapShotDeviceResponse"',children:'<SnapShotDeviceResponse xmlns="http://www.ecma.ch/standards/ecma-323/csta/ed6">\n  <serviceCrossRefID>u-12345678-t-12345678</serviceCrossRefID>\n  <snapshotData>\n    <snapshotDeviceResponseInfo />\n  </snapshotData>\n  <privateData>\n    <requestID>101-null</requestID>\n  </privateData>\n</SnapShotDeviceResponse>\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",metastring:'title="OutgoingNumbersEvent"',children:"<OutgoingNumbersEvent>\n  <monitorCrossRefID>t-12345678</monitorCrossRefID>\n  <privateData>\n    <eventOrderIncrement>0</eventOrderIncrement>\n    <connectionId>d89d804d-01e7-465b-a6c9-cff238cd3cf8</connectionId>\n  </privateData>\n  <outgoingNumbers>\n    <outgoingNumber>\n      <number>12345678</number>\n    </outgoingNumber>\n  </outgoingNumbers>\n</OutgoingNumbersEvent>\n"})}),"\n",(0,s.jsx)(n.h2,{id:"users---requesting-states",children:"Users - Requesting states"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",metastring:'title="SnapShotDevice on user"',children:"<SnapShotDevice>\n  <snapshotObject>u-12345678-200</snapshotObject>\n  <privateData>\n    <requestID>102-null</requestID>\n  </privateData>\n</SnapShotDevice>\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",metastring:'title="SnapShotDeviceResponse"',children:'<SnapShotDeviceResponse xmlns="http://www.ecma.ch/standards/ecma-323/csta/ed6">\n  <serviceCrossRefID>u-12345678-200</serviceCrossRefID>\n  <snapshotData>\n    <snapshotDeviceResponseInfo />\n  </snapshotData>\n  <privateData>\n    <requestID>102-null</requestID>\n  </privateData>\n</SnapShotDeviceResponse>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"forwarding",children:"Forwarding"}),"\n",(0,s.jsx)(n.p,{children:"Request the current forwarding rules of a given user."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",metastring:'title="GetForwarding"',children:"<GetForwarding>\n  <device>200</device>\n  <privateData>\n    <requestID>103-null</requestID>\n  </privateData>\n</GetForwarding>\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",metastring:'title="GetForwardingResponse"',children:'<GetForwardingResponse xmlns="http://www.ecma.ch/standards/ecma-323/csta/ed6">\n  <forwardingList>\n    <forwardListItem>\n      <forwardingType>forwardNoAns</forwardingType>\n      <forwardStatus>false</forwardStatus>\n      <forwardDN>busy</forwardDN>\n      <ringDuration>90</ringDuration>\n    </forwardListItem>\n  </forwardingList>\n  <privateData>\n    <requestID>103-null</requestID>\n  </privateData>\n</GetForwardingResponse>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"do-not-disturb",children:"Do-Not-Disturb"}),"\n",(0,s.jsx)(n.p,{children:"Request the current DND state of a given user."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",metastring:'title="GetDoNotDisturb"',children:"<GetDoNotDisturb>\n  <device>200</device>\n  <privateData>\n    <requestID>104-null</requestID>\n  </privateData>\n</GetDoNotDisturb>\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",metastring:'title="GetDoNotDisturbResponse"',children:'<GetDoNotDisturbResponse xmlns="http://www.ecma.ch/standards/ecma-323/csta/ed6">\n  <doNotDisturbOn>false</doNotDisturbOn>\n  <privateData>\n    <requestID>104-null</requestID>\n  </privateData>\n</GetDoNotDisturbResponse>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"callprofile",children:"CallProfile"}),"\n",(0,s.jsx)(n.p,{children:"Request the current call profile state of a given user."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",metastring:'title="GetCallProfile"',children:"<GetCallProfile>\n  <device>200</device>\n  <privateData>\n    <requestID>105-null</requestID>\n  </privateData>\n</GetCallProfile>\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",metastring:'title="GetCallProfileResponse"',children:'<GetCallProfileResponse xmlns="http://www.ecma.ch/standards/ecma-323/csta/ed6">\n  <callProfile>\n    <outgoingNumberPresentation>\n      <localNumberPresentation>\n        <numberType>None</numberType>\n        <number />\n      </localNumberPresentation>\n      <mobileNumberPresentation>\n        <numberType>None</numberType>\n        <number />\n      </mobileNumberPresentation>\n      <teamsNumberPresentation>\n        <numberType>None</numberType>\n        <number />\n      </teamsNumberPresentation>\n    </outgoingNumberPresentation>\n    <incomingCallMatrix>\n      <localDevice>\n        <local>true</local>\n        <mobile>true</mobile>\n        <teams>false</teams>\n      </localDevice>\n      <mobileDevice>\n        <local>false</local>\n        <mobile>true</mobile>\n        <teams>false</teams>\n      </mobileDevice>\n      <teamsDevice>\n        <local>false</local>\n        <mobile>false</mobile>\n        <teams>true</teams>\n      </teamsDevice>\n    </incomingCallMatrix>\n    <routeHandling>None</routeHandling>\n  </callProfile>\n  <privateData>\n    <requestID>105-null</requestID>\n  </privateData>\n</GetCallProfileResponse>\n'})}),"\n",(0,s.jsx)(n.h2,{id:"queues---requesting-states",children:"Queues - Requesting states"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",metastring:'title="SnapShotDevice"',children:"<SnapShotDevice>\n  <snapshotObject>q-12345678-400</snapshotObject>\n  <privateData>\n    <requestID>106-null</requestID>\n  </privateData>\n</SnapShotDevice>\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",metastring:'title="SnapShotDeviceResponse"',children:'<SnapShotDeviceResponse xmlns="http://www.ecma.ch/standards/ecma-323/csta/ed6">\n  <serviceCrossRefID>q-12345678-400</serviceCrossRefID>\n  <snapshotData>\n    <snapshotDeviceResponseInfo />\n  </snapshotData>\n  <privateData>\n    <requestID>106-null</requestID>\n    <QueueName>q-12345678-400</QueueName>\n    <QueueMembers />\n  </privateData>\n</SnapShotDeviceResponse>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"queue-data",children:"Queue Data"}),"\n",(0,s.jsx)(n.p,{children:"Get queue information like the queue name and the current SLA."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",metastring:'title="GetQueue"',children:"<GetQueue>\n  <device>400</device>\n  <privateData>\n    <requestID>107-null</requestID>\n  </privateData>\n</GetQueue>\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",metastring:'title="GetQueueResponse"',children:'<GetQueueResponse xmlns="http://www.ecma.ch/standards/ecma-323/csta/ed6">\n  <queueDevice>\n    <deviceDescription>Customer Support</deviceDescription>\n    <deviceIdentifier>400</deviceIdentifier>\n  </queueDevice>\n  <privateData>\n    <requestID>107-null</requestID>\n    <serviceLevelAgreement>0</serviceLevelAgreement>\n  </privateData>\n</GetQueueResponse>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"queue-members",children:"Queue Members"}),"\n",(0,s.jsx)(n.p,{children:"Get queue members/agents and their membership state on a given queue."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",metastring:'title="GetQueueMember"',children:"<GetQueueMember>\n  <device>400</device>\n  <privateData>\n    <requestID>108-null</requestID>\n  </privateData>\n</GetQueueMember>\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",metastring:'title="GetQueueMemberResponse"',children:'<GetQueueMemberResponse xmlns="http://www.ecma.ch/standards/ecma-323/csta/ed6">\n  <memberList>\n    <memberListItem>\n      <active>true</active>\n      <activeSip>true</activeSip>\n      <activeMobile>false</activeMobile>\n      <activeSkype>false</activeSkype>\n      <agentDN>200</agentDN>\n    </memberListItem>\n  </memberList>\n  <privateData>\n    <requestID>108-null</requestID>\n  </privateData>\n</GetQueueMemberResponse>\n'})})]})}function d(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>o});var a=t(6540);const s={},i=a.createContext(s);function r(e){const n=a.useContext(i);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),a.createElement(i.Provider,{value:n},e.children)}}}]);