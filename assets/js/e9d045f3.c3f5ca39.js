"use strict";(self.webpackChunkdocusaurus_classic_typescript=self.webpackChunkdocusaurus_classic_typescript||[]).push([[5853],{7582:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>o,contentTitle:()=>r,default:()=>v,frontMatter:()=>c,metadata:()=>i,toc:()=>s});const i=JSON.parse('{"id":"use-cases/case_makecall","title":"Making A Call","description":"This scenario covers making a call through the API. The user is already logged in and is monitoring the event stream.","source":"@site/docs/use-cases/case_makecall.md","sourceDirName":"use-cases","slug":"/use-cases/case_makecall","permalink":"/api-documentation/docs/use-cases/case_makecall","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Making A Call","sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Authenticating And Monitoring","permalink":"/api-documentation/docs/use-cases/case_login"},"next":{"title":"Setting Do-Not-Disturb","permalink":"/api-documentation/docs/use-cases/case_dnd"}}');var l=a(4848),t=a(8453);const c={title:"Making A Call",sidebar_position:1},r=void 0,o={},s=[];function d(e){const n={a:"a",code:"code",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.p,{children:"This scenario covers making a call through the API. The user is already logged in and is monitoring the event stream."}),"\n",(0,l.jsx)(n.p,{children:"User with device 200 on trunk 12345678, calls an external device on number 22334455."}),"\n",(0,l.jsxs)(n.p,{children:["First, the user requests to make a call using a ",(0,l.jsx)(n.a,{href:"/api-documentation/docs/csta-api/call-functionality/makeCall",children:"MakeCall"})," request:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-xml",metastring:'title="Request"',children:'<?xml version="1.0" encoding="utf-16"?>\n<MakeCall>\n  <callingDevice>200</callingDevice>\n  <calledDirectoryNumber>22334455</calledDirectoryNumber>\n  <autoOriginate>doNotPrompt</autoOriginate>\n  <privateData>\n    <requestID>114-b85d6725-97dd-4e64-bbf9-09bf4879855d</requestID>\n  </privateData>\n</MakeCall>\n'})}),"\n",(0,l.jsxs)(n.p,{children:["The system responds with a ",(0,l.jsx)(n.a,{href:"/api-documentation/docs/csta-api/call-functionality/makeCall#makecallresponse",children:"MakeCallResponse"}),", indicating that the request has been registered:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-xml",metastring:'title="Response"',children:'<MakeCallResponse xmlns="http://www.ecma.ch/standards/ecma-323/csta/ed6">\n  <callingDevice>\n    <callID>N/A</callID>\n    <deviceID>200</deviceID>\n  </callingDevice>\n  <callLinkageData>\n    <globalCallData>\n      <globalCallLinkageId>N/A</globalCallLinkageId>\n    </globalCallData>\n  </callLinkageData>\n  <privateData>\n    <requestID>114-b85d6725-97dd-4e64-bbf9-09bf4879855d</requestID>\n  </privateData>\n</MakeCallResponse>\n'})}),"\n",(0,l.jsx)(n.p,{children:"The call is then delivered and auto-answered on the users own device, if the device supports that. Our softphone and many SIP devices supports this out of the box.\nThe customers system can monitor the events on the monitorCrossRefID 'u-12345678-200'"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-xml",metastring:'title="Call started on device"',children:'<DeliveredEvent xmlns="http://www.ecma.ch/standards/ecma-323/csta/ed6">\n  <monitorCrossRefID>u-12345678-200</monitorCrossRefID>\n  <connection>\n    <callID>SIP/hpbx-00000233</callID>\n    <deviceID>200</deviceID>\n  </connection>\n  <alertingDevice>\n    <deviceIdentifier>22334455</deviceIdentifier>\n  </alertingDevice>\n  <callingDevice>\n    <deviceIdentifier>200</deviceIdentifier>\n  </callingDevice>\n  <calledDevice>\n    <deviceIdentifier>22334455</deviceIdentifier>\n  </calledDevice>\n  <localConnectionInfo>connected</localConnectionInfo>\n  <cause>newCall</cause>\n  <networkCallingDevice>\n    <deviceIdentifier>200</deviceIdentifier>\n  </networkCallingDevice>\n  <networkCalledDevice>\n    <deviceIdentifier>22334455</deviceIdentifier>\n  </networkCalledDevice>\n  <callLinkageData>\n    <globalCallData>\n      <globalCallLinkageId>f64b594c-ae2a-416b-9061-96299f8a5ee3</globalCallLinkageId>\n    </globalCallData>\n  </callLinkageData>\n  <privateData>\n    <eventOrderIncrement>0</eventOrderIncrement>\n    <isCstaOriginated>true</isCstaOriginated>\n    <cstaCallRequestType>MakeCall</cstaCallRequestType>\n    <callDirection>Outbound</callDirection>\n    <localStatus>Ringing</localStatus>\n    <remoteUser>22334455</remoteUser>\n    <callerName>John Doe</callerName>\n  </privateData>\n</DeliveredEvent>\n\n<EstablishedEvent xmlns="http://www.ecma.ch/standards/ecma-323/csta/ed6">\n  <monitorCrossRefID>u-12345678-200</monitorCrossRefID>\n  <establishedConnection>\n    <callID>SIP/hpbx-00000233</callID>\n    <deviceID>200</deviceID>\n  </establishedConnection>\n  <answeringDevice>\n    <deviceIdentifier>22334455</deviceIdentifier>\n  </answeringDevice>\n  <callingDevice>\n    <deviceIdentifier>200</deviceIdentifier>\n  </callingDevice>\n  <calledDevice>\n    <deviceIdentifier>22334455</deviceIdentifier>\n  </calledDevice>\n  <localConnectionInfo>connected</localConnectionInfo>\n  <cause>normal</cause>\n  <networkCallingDevice>\n    <deviceIdentifier>200</deviceIdentifier>\n  </networkCallingDevice>\n  <networkCalledDevice>\n    <deviceIdentifier>22334455</deviceIdentifier>\n  </networkCalledDevice>\n  <callLinkageData>\n    <globalCallData>\n      <globalCallLinkageId>f64b594c-ae2a-416b-9061-96299f8a5ee3</globalCallLinkageId>\n    </globalCallData>\n  </callLinkageData>\n  <privateData>\n    <eventOrderIncrement>0</eventOrderIncrement>\n    <isCstaOriginated>true</isCstaOriginated>\n    <cstaCallRequestType>MakeCall</cstaCallRequestType>\n    <callDirection>Outbound</callDirection>\n    <localStatus>Active</localStatus>\n    <remoteUser>22334455</remoteUser>\n    <callerName>John Doe</callerName>\n    <timestamp>2025-04-30 13:23:23Z</timestamp>\n  </privateData>\n</EstablishedEvent>\n'})}),"\n",(0,l.jsx)(n.p,{children:"The customers system can also monitor the events directly on the trunks monitorCrossRefID 't-12345678'"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-xml",metastring:'title="Call started on device"',children:'<DeliveredEvent xmlns="http://www.ecma.ch/standards/ecma-323/csta/ed6">\n  <monitorCrossRefID>t-12345678</monitorCrossRefID>\n  <connection>\n    <callID>SIP/hpbx-00000234</callID>\n    <deviceID>22334455</deviceID>\n  </connection>\n  <alertingDevice>\n    <deviceIdentifier>22334455</deviceIdentifier>\n  </alertingDevice>\n  <callingDevice>\n    <deviceIdentifier>200</deviceIdentifier>\n  </callingDevice>\n  <calledDevice>\n    <deviceIdentifier>22334455</deviceIdentifier>\n  </calledDevice>\n  <localConnectionInfo>alerting</localConnectionInfo>\n  <cause>newCall</cause>\n  <networkCallingDevice>\n    <deviceIdentifier>200</deviceIdentifier>\n  </networkCallingDevice>\n  <networkCalledDevice>\n    <deviceIdentifier>22334455</deviceIdentifier>\n  </networkCalledDevice>\n  <callLinkageData>\n    <globalCallData>\n      <globalCallLinkageId>f64b594c-ae2a-416b-9061-96299f8a5ee3</globalCallLinkageId>\n    </globalCallData>\n  </callLinkageData>\n  <privateData>\n    <eventOrderIncrement>0</eventOrderIncrement>\n    <isCstaOriginated>false</isCstaOriginated>\n    <callDirection>Inbound</callDirection>\n    <localStatus>Alerting</localStatus>\n    <remoteUser>200</remoteUser>\n    <callerName>John Doe</callerName>\n  </privateData>\n</DeliveredEvent>\n\n<EstablishedEvent xmlns="http://www.ecma.ch/standards/ecma-323/csta/ed6">\n  <monitorCrossRefID>t-12345678</monitorCrossRefID>\n  <establishedConnection>\n    <callID>SIP/hpbx-00000234</callID>\n    <deviceID>22334455</deviceID>\n  </establishedConnection>\n  <answeringDevice>\n    <deviceIdentifier>22334455</deviceIdentifier>\n  </answeringDevice>\n  <callingDevice>\n    <deviceIdentifier>200</deviceIdentifier>\n  </callingDevice>\n  <calledDevice>\n    <deviceIdentifier>22334455</deviceIdentifier>\n  </calledDevice>\n  <localConnectionInfo>connected</localConnectionInfo>\n  <cause>normal</cause>\n  <networkCallingDevice>\n    <deviceIdentifier>200</deviceIdentifier>\n  </networkCallingDevice>\n  <networkCalledDevice>\n    <deviceIdentifier>22334455</deviceIdentifier>\n  </networkCalledDevice>\n  <callLinkageData>\n    <globalCallData>\n      <globalCallLinkageId>f64b594c-ae2a-416b-9061-96299f8a5ee3</globalCallLinkageId>\n    </globalCallData>\n  </callLinkageData>\n  <privateData>\n    <eventOrderIncrement>0</eventOrderIncrement>\n    <isCstaOriginated>false</isCstaOriginated>\n    <callDirection>Inbound</callDirection>\n    <localStatus>Active</localStatus>\n    <remoteUser>200</remoteUser>\n    <callerName>John Doe</callerName>\n    <timestamp>2025-04-30 13:23:32Z</timestamp>\n  </privateData>\n</EstablishedEvent>\n'})}),"\n",(0,l.jsx)(n.p,{children:"The callee, 22334455, then hangs up the call."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-xml",metastring:'title="Call ended by 22334455"',children:'<ConnectionClearedEvent xmlns="http://www.ecma.ch/standards/ecma-323/csta/ed6">\n  <monitorCrossRefID>t-12345678</monitorCrossRefID>\n  <droppedConnection>\n    <callID>SIP/hpbx-00000234</callID>\n    <deviceID>22334455</deviceID>\n  </droppedConnection>\n  <releasingDevice>\n    <deviceIdentifier>22334455</deviceIdentifier>\n  </releasingDevice>\n  <localConnectionInfo>null</localConnectionInfo>\n  <cause>Normal Clearing</cause>\n  <callLinkageData>\n    <globalCallData>\n      <globalCallLinkageId>f64b594c-ae2a-416b-9061-96299f8a5ee3</globalCallLinkageId>\n    </globalCallData>\n  </callLinkageData>\n</ConnectionClearedEvent>\n\n<ConnectionClearedEvent xmlns="http://www.ecma.ch/standards/ecma-323/csta/ed6">\n  <monitorCrossRefID>u-12345678-200</monitorCrossRefID>\n  <droppedConnection>\n    <callID>SIP/hpbx-00000233</callID>\n    <deviceID>200</deviceID>\n  </droppedConnection>\n  <releasingDevice>\n    <deviceIdentifier>22334455</deviceIdentifier>\n  </releasingDevice>\n  <localConnectionInfo>null</localConnectionInfo>\n  <cause>Normal Clearing</cause>\n  <callLinkageData>\n    <globalCallData>\n      <globalCallLinkageId>f64b594c-ae2a-416b-9061-96299f8a5ee3</globalCallLinkageId>\n    </globalCallData>\n  </callLinkageData>\n</ConnectionClearedEvent>\n'})})]})}function v(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},8453:(e,n,a)=>{a.d(n,{R:()=>c,x:()=>r});var i=a(6540);const l={},t=i.createContext(l);function c(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:c(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);